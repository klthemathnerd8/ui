== Problem ==
For each [[even integer | even]] [[positive integer]] <math> x </math>, let <math> g(x) </math> denote the greatest power of 2 that [[divisor | divides]] <math> x. </math> For example, <math> g(20)=4 </math> and <math> g(16)=16. </math> For each positive integer <math> n, </math> let <math> S_n=\sum_{k=1}^{2^{n-1}}g(2k). </math> Find the greatest integer <math> n </math> less than 1000 such that <math> S_n </math> is a [[perfect square]].
